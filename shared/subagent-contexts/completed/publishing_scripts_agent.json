{
  "identity": {
    "agentId": "publishing_scripts_agent",
    "taskId": "script_conv_1752290180528_publishing_scripts_agent",
    "agentRole": "Convert Publishing Scripts to Python",
    "focusArea": "NPM operations and validation checks",
    "taskSource": "RAPID_SCRIPT_CONVERSION_PLAN.md"
  },
  "execution": {
    "canStartImmediately": true,
    "dependencies": [],
    "estimatedTime": 30
  },
  "deliverables": {
    "tasks": [
      "Convert prepublish.js to prepublish.py",
      "Convert postpublish.js to postpublish.py",
      "Convert security-check.js to security-check.py"
    ],
    "filesToCreate": [
      "scripts/python/prepublish.py",
      "scripts/python/postpublish.py",
      "scripts/python/security-check.py"
    ],
    "validationCriteria": [
      "All scripts converted with UV shebang and inline metadata",
      "YAML output replaces JSON output",
      "Click CLI for command-line arguments",
      "Scripts are executable (chmod +x)",
      "Basic smoke tests pass"
    ],
    "conversionPatterns": {
      "header": "#!/usr/bin/env -S uv run --script\n# /// script\n# requires-python = \">=3.11\"\n# dependencies = [\n#   \"pyyaml>=6.0\",\n#   \"click>=8.1\", \n#   \"rich>=13.0\"\n# ]\n# ///",
      "yamlSave": "def save_yaml(data, filepath):\n    with open(filepath, 'w') as f:\n        yaml.dump(data, f, default_flow_style=False, sort_keys=False)",
      "gitCommand": "def run_git(args):\n    return subprocess.run(['git'] + args, capture_output=True, text=True)"
    }
  },
  "orchestration": {
    "phase": 1,
    "concurrentWith": [
      "simple_scripts_agent",
      "agent_scripts_agent",
      "workflow_scripts_agent",
      "complex_scripts_agent"
    ]
  }
}
